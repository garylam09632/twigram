(this["webpackJsonpvideo-streaming-demo"]=this["webpackJsonpvideo-streaming-demo"]||[]).push([[0],{160:function(e,t,a){e.exports=a(266)},165:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(37),s=a.n(o),l=(a(165),a(16)),c=a(17),i=a(19),m=a(18),d=a(147),u=a(14),p=a(292),g=a(293),h=a(294),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLogoutBtnClick=function(e){window.confirm("Are you sure to logout?")?document.getElementById("#nav-logout-btn").setAttribute("style","display:none"):e.preventDefault()},e}return Object(c.a)(a,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement("a",{id:"nav-logout-btn",href:"/login",className:"btn btn-warning text-white my-2 my-sm-0",onClick:this.onLogoutBtnClick},"Logout"):r.a.createElement("div",null)}}]),a}(n.Component),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).iconClick=function(){e.props.isLoggedIn?window.location.href="/home":window.location.href="/login"},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,{fluid:!0,id:"nav-container"},r.a.createElement(g.a,null,r.a.createElement(h.a,{md:2}),r.a.createElement(h.a,{md:10},r.a.createElement("nav",{className:"navbar"},r.a.createElement("a",{id:"title",className:"navbar-brand text-light",onClick:function(){return e.iconClick()}},"Twigram"),r.a.createElement("form",{className:"form-inline"},r.a.createElement("a",{id:"nav-signup-btn",href:"/signup",className:"btn bg-info my-2 my-sm-0 text-white"},"Sign Up"),r.a.createElement("a",{id:"nav-login-btn",href:"/login",className:"btn btn-success  my-2 my-sm-0"},"Login"),r.a.createElement(f,{loggedIn:this.props.isLoggedIn})))),r.a.createElement(h.a,null)))}}]),a}(n.Component),b=a(56),w=a(20),E=a.n(w),C=a(41),y=a(33);var x=function(e){return e.formerrors&&e.formerrors.cognito?r.a.createElement("div",{className:"text-danger"},e.formerrors.cognito.message):r.a.createElement("div",null)};var N=function(e,t){var a=!1,n=!0,r=!0;if(t.hasOwnProperty("username")&&""===t.username&&(t.errorMsg.username="Please provide username",a=!0),t.hasOwnProperty("email")&&""===t.email&&(t.errorMsg.email="Please provide email",a=!0),t.hasOwnProperty("password")&&""===t.password)t.errorMsg.password="Please provide password",a=!0;else{var o=new RegExp("[A-Z]+"),s=new RegExp("[a-z]+"),l=new RegExp("[0-9]+");t.password.length<8?(document.getElementById("password").setCustomValidity("Password not long enough"),t.errorMsg.password="Password requires minimum 8 characters",n=!1):o.test(t.password)&&s.test(t.password)?l.test(t.password)?document.getElementById("password").setCustomValidity(""):(document.getElementById("password").setCustomValidity("Password must contain number"),t.errorMsg.password="Password must contains number",n=!1):(document.getElementById("password").setCustomValidity("Password should contain uppercase and lowercase character"),t.errorMsg.password="Password requires at least one uppercase or lowercase character",n=!1)}return t.hasOwnProperty("password")&&t.hasOwnProperty("confirmPassword")&&(t.password===t.confirmPassword?""!==t.confirmPassword&&n?document.getElementById("confirmPassword").setCustomValidity(""):(a=!0,r=!1,document.getElementById("confirmPassword").setCustomValidity("Invalid password")):(document.getElementById("confirmPassword").setCustomValidity("Password not same"),t.errorMsg.confirmPassword="Must be the same with the password above",r=!1)),"signup"===t.form?{blankField:a,passwordmatch:r,validPassword:n}:{blankField:a}},k=a(151),I=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:"login",username:"",password:"",errorMsg:{username:"",password:""},errors:{cognito:null,blankfield:!1}},e.clearErrorState=function(){document.getElementById("username").setCustomValidity(""),document.getElementById("password").setCustomValidity(""),e.setState({errors:{cognito:null,blankfield:!1}})},e.handleSubmit=function(){var t=Object(y.a)(E.a.mark((function t(a){var n,r,o,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.clearErrorState(),(n=N(a,e.state))&&e.setState({errors:Object(C.a)(Object(C.a)({},e.state.errors),n)}),r=e.state.username,o=e.state.password,t.prev=5,t.next=8,k.a.signIn(r,o);case 8:s=t.sent,e.props.login(s.username),e.props.history.push({pathname:"/home",state:{username:s.username}}),console.log(s),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(5),null,t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(C.a)(Object(C.a)({},e.state.errors),{},{cognito:t.t0})}),"Incorrect username or password."==t.t0.message&&(document.getElementById("username").setCustomValidity("Incorrect username or password"),document.getElementById("password").setCustomValidity("Incorrect username or password"));case 20:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(b.a)({},t.target.id,t.target.value))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10 content-col"},r.a.createElement("h1",null,"Login"),r.a.createElement(x,{formerrors:this.state.errors}),r.a.createElement("div",{id:"content-area",className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{id:"form",className:"needs-validation",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-person",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})))),r.a.createElement("input",{type:"text",id:"username",className:"form-control",placeholder:"Username or Email",onChange:this.onInputChange,required:!0}),r.a.createElement("div",{className:"valid-feedback"}),r.a.createElement("div",{className:"invalid-feedback"},this.state.errorMsg.username))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-key",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"}),r.a.createElement("path",{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})))),r.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Password",onChange:this.onInputChange,required:!0}),r.a.createElement("div",{className:"valid-feedback"}),r.a.createElement("div",{className:"invalid-feedback"},this.state.errorMsg.password))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{id:"login-btn",type:"submit",className:"btn btn-success"},"Login")))))),r.a.createElement("div",{className:"col-md-2"})))}}]),a}(n.Component),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={form:"signup",username:"",email:"",password:"",confirmPassword:"",errorMsg:{username:"",email:"",password:"",confirmPassword:""},errors:{cognito:null,blankfield:!1,validPassword:!1,passwordmatch:!1}},e.clearErrorState=function(){document.getElementById("username").setCustomValidity(""),e.setState({errors:{cognito:null,blankfield:!1,validPassword:!1,passwordmatch:!1}})},e.handleSubmit=function(){var t=Object(y.a)(E.a.mark((function t(a){var n,r,o,s,l,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.clearErrorState(),!(n=N(a,e.state))){t.next=7;break}return t.next=6,e.setState({errors:Object(C.a)(Object(C.a)({},e.state.errors),n)});case 6:!e.state.errors.blankfield&&e.state.errors.validPassword&&e.state.errors.passwordmatch||console.log("ERR");case 7:return r=e.state,o=r.username,s=r.email,l=r.password,t.prev=8,t.next=11,k.a.signUp({username:o,password:l,attributes:{email:s}});case 11:c=t.sent,console.log(c),e.props.history.push("/welcome"),t.next=24;break;case 16:t.prev=16,t.t0=t.catch(8),null,t.t0.message?t.t0:{message:t.t0},e.setState({errors:Object(C.a)(Object(C.a)({},e.state.errors),{},{cognito:t.t0})}),console.log(t.t0),"User already exists"==t.t0.message&&document.getElementById("username").setCustomValidity("Invalid username"),"Invalid email address format."==t.t0.message&&document.getElementById("email").setCustomValidity("Invalid email address format");case 24:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(e){return t.apply(this,arguments)}}(),e.onInputChange=function(t){e.setState(Object(b.a)({},t.target.id,t.target.value))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10 content-col"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement(x,{formerrors:this.state.errors}),r.a.createElement("div",{id:"content-area",className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{id:"form",className:"needs-validation",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-person",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})))),r.a.createElement("input",{type:"text",id:"username",className:"form-control",placeholder:"Username",onChange:this.onInputChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-envelope",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"})))),r.a.createElement("input",{type:"text",id:"email",className:"form-control",placeholder:"Email",onChange:this.onInputChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-key",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"}),r.a.createElement("path",{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})))),r.a.createElement("input",{type:"password",id:"password",className:"form-control","data-html":"true",placeholder:"Password (Hover to see constraints)",onChange:this.onInputChange,"data-toggle":"tooltip",title:"Password constraints:\r 1) Minimum of 8 characters\r 2) At least one uppercase and lowercase character\r 3) Must contains number",required:!0}),r.a.createElement("div",{className:"valid-feedback"}),r.a.createElement("div",{className:"invalid-feedback"},this.state.errorMsg.password))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-key",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"}),r.a.createElement("path",{d:"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})))),r.a.createElement("input",{type:"password",id:"confirmPassword",className:"form-control",placeholder:"Confirm password",onChange:this.onInputChange,required:!0}),r.a.createElement("div",{className:"valid-feedback"}),r.a.createElement("div",{className:"invalid-feedback"},this.state.errorMsg.confirmPassword))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{id:"signin-btn",type:"submit",className:"btn btn-success"},"Sign up")))))),r.a.createElement("div",{className:"col-md-2"})))}}]),a}(n.Component);function j(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10 content-col"},r.a.createElement("div",{className:"container-fluid",style:{color:"white"}},r.a.createElement("h1",null,"Welcome!"),r.a.createElement("br",null),r.a.createElement("p",null,"You have successfully registered a new account."),r.a.createElement("p",null,"We've sent a confirmation link to your email. Please verify your account and then you are ready to login :)"))),r.a.createElement("div",{className:"col-md-2"})))}var L=a(297),S=a(46),P=a.n(S),A=a(146),B=a(153),M=a(301),U=a(300),z=a(302),R=a(26),D=a(27);function V(){var e=Object(R.a)(["\n    font-weight: 600;\n    font-size: 15px;\n    margin-bottom: 5px;\n"]);return V=function(){return e},e}function q(){var e=Object(R.a)(["\n    font-weight: 800;\n    font-size: 17px;\n    margin-bottom: 2px;\n    text-align:  ",";\n"]);return q=function(){return e},e}function F(){var e=Object(R.a)(["\n    margin-bottom: 10px;\n    border-radius: 10px;\n    display: inline-block;\n    padding: 5px 10px 0px 10px;\n    background-color: ",";\n"]);return F=function(){return e},e}function H(){var e=Object(R.a)(["\n    text-align:  ",";\n"]);return H=function(){return e},e}var T=D.a.div(H(),(function(e){return e.floatRight?"right":"initial"})),_=D.a.div(F(),(function(e){return e.backgroundColor})),W=D.a.p(q(),(function(e){return e.floatRight?"right":"initial"})),K=D.a.p(V()),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(T,{floatRight:this.props.floatRight},r.a.createElement(_,{backgroundColor:this.props.backgroundColor},r.a.createElement(W,{floatRight:this.props.floatRight},this.props.username),r.a.createElement(K,null,this.props.content)),r.a.createElement("div",null))}}]),a}(n.Component),Y=a(296);function G(){var e=Object(R.a)(["\n    border-radius: 10px;\n    font-size: 0.8rem;\n    width: 100%;\n    height: 45px;\n\n    &:hover {\n        border: 1px solid #007bff;\n        background-color: #007bff;\n        outline: none;\n    }\n\n    &:focus, &:active {\n        outline: none !important;\n        box-shadow: none;\n    }\n"]);return G=function(){return e},e}function Z(){var e=Object(R.a)(["\n    background-color: #292929;\n    padding: 10px;\n    height: 200px;\n    width: 100%;\n    color: #b6b3b3;\n    -webkit-text-fill-color: #b6b3b3;\n    -webkit-box-shadow: 0 0 0 100px #292929 inset !important;\n    border: 1px solid #6c757d;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    transition: 0.3s ease-in-out;\n\n    &:focus {\n        border: 1px solid #007bff;\n        outline: none;\n        color: #007bff;\n        -webkit-text-fill-color: #007bff;\n    }\n"]);return Z=function(){return e},e}function $(){var e=Object(R.a)(["\n    background-color: #292929;\n    padding-left: 10px;\n    height: 45px;\n    width: 100%;\n    color: #b6b3b3;\n    -webkit-text-fill-color: #b6b3b3;\n    -webkit-box-shadow: 0 0 0 100px #292929 inset !important;\n    border: 1px solid #6c757d;\n    border-radius: 10px;\n    font-size: 0.8rem;\n    font-weight: bold;\n    transition: 0.3s ease-in-out;\n\n    &:focus {\n        border: 1px solid #007bff;\n        outline: none;\n        color: #007bff;\n        -webkit-text-fill-color: #007bff;\n    }\n"]);return $=function(){return e},e}function Q(){var e=Object(R.a)(["\n    padding-left: 0px;\n"]);return Q=function(){return e},e}function X(){var e=Object(R.a)(["\n    height: 8%;\n    width: 100%;\n    margin: 0px;\n"]);return X=function(){return e},e}var ee=Object(D.a)(g.a)(X()),te=Object(D.a)(h.a)(Q()),ae=D.a.input($()),ne=D.a.textarea(Z()),re=Object(D.a)(z.a)(G()),oe=function(e){function t(e,t){return e<<t|e>>>32-t}function a(e){var t,a="";for(t=7;t>=0;t--)a+=(e>>>4*t&15).toString(16);return a}var n,r,o,s,l,c,i,m,d,u=new Array(80),p=1732584193,g=4023233417,h=2562383102,f=271733878,v=3285377520,b=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)).length,w=new Array;for(r=0;r<b-3;r+=4)o=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),w.push(o);switch(b%4){case 0:r=2147483648;break;case 1:r=e.charCodeAt(b-1)<<24|8388608;break;case 2:r=e.charCodeAt(b-2)<<24|e.charCodeAt(b-1)<<16|32768;break;case 3:r=e.charCodeAt(b-3)<<24|e.charCodeAt(b-2)<<16|e.charCodeAt(b-1)<<8|128}for(w.push(r);w.length%16!=14;)w.push(0);for(w.push(b>>>29),w.push(b<<3&4294967295),n=0;n<w.length;n+=16){for(r=0;r<16;r++)u[r]=w[n+r];for(r=16;r<=79;r++)u[r]=t(u[r-3]^u[r-8]^u[r-14]^u[r-16],1);for(s=p,l=g,c=h,i=f,m=v,r=0;r<=19;r++)d=t(s,5)+(l&c|~l&i)+m+u[r]+1518500249&4294967295,m=i,i=c,c=t(l,30),l=s,s=d;for(r=20;r<=39;r++)d=t(s,5)+(l^c^i)+m+u[r]+1859775393&4294967295,m=i,i=c,c=t(l,30),l=s,s=d;for(r=40;r<=59;r++)d=t(s,5)+(l&c|l&i|c&i)+m+u[r]+2400959708&4294967295,m=i,i=c,c=t(l,30),l=s,s=d;for(r=60;r<=79;r++)d=t(s,5)+(l^c^i)+m+u[r]+3395469782&4294967295,m=i,i=c,c=t(l,30),l=s,s=d;p=p+s&4294967295,g=g+l&4294967295,h=h+c&4294967295,f=f+i&4294967295,v=v+m&4294967295}return(d=a(p)+a(g)+a(h)+a(f)+a(v)).toLowerCase()},se=a(45),le=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onInputChange=function(e){n.setState({input:e.target.value})},n.comment=Object(y.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).toLocaleString("en-US"),a={id:oe(t+n.props.postID.substr(0,6)),username:n.props.username,postID:n.props.postID,content:n.state.input},e.prev=2,n.setState({sending:!0}),e.next=6,P.a.post("".concat(se.api.invokeUrl,"/comment/new"),a);case 6:n.setState({sending:!1}),n.props.addNewComment(n.state.input),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("An error has occurred: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),n.state={commentInput:"",sending:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(ee,null,r.a.createElement(te,{md:9},r.a.createElement(ae,{placeholder:"Comment here...",onChange:this.onInputChange,minLength:1,maxLength:500})),r.a.createElement(h.a,{className:"p-0",md:3},this.state.sending?r.a.createElement("div",{className:"pt-1",style:{display:"flex",justifyContent:"center"}},r.a.createElement(Y.a,{animation:"border",variant:"primary"})):r.a.createElement(re,{variant:"outline-secondary",onClick:function(){return e.comment()}},"Send")))}}]),a}(n.Component),ce=a(152),ie=a(45),me=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addNewComment=function(e){var t={username:n.state.loggedInUser};n.setState({newComments:[].concat(Object(B.a)(n.state.newComments),[r.a.createElement(J,{username:n.state.loggedInUser,content:e,backgroundColor:n.getCommentColor(t),floatRight:n.commentIsFloatRight(t)})])}),document.getElementById(n.state.data.id).getElementsByTagName("input")[0].value=""},n.deletePost=Object(y.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this post?")){e.next=11;break}return e.prev=1,n.props.showLoader(),e.next=5,P.a.delete("".concat(ie.api.invokeUrl,"/posts/").concat(n.state.data.id));case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert("An error has occurred: ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),n.state={loggedInUser:e.loggedInUser,data:e.data,newComments:[]},n}return Object(c.a)(a,[{key:"getCommentColor",value:function(e){if(void 0!=e.description){if(this.state.loggedInUser!=e.username)return"#007bff"}else if(this.state.loggedInUser!=e.username)return"#343a40";return"#32c553"}},{key:"commentIsFloatRight",value:function(e){return this.state.loggedInUser==e.username}},{key:"collapseButtonClick",value:function(e){var t=e.currentTarget,a=t.getElementsByClassName("collapse-text")[0],n=t.getElementsByClassName("arrow-icon")[0];t.classList.contains("show")?(a.innerHTML="Show Comments<br />",t.classList.remove("show"),n.classList.remove("rotate"),n.classList.add("remove-rotate")):(a.innerHTML="Collapse<br />",t.classList.add("show"),n.classList.add("rotate"),n.classList.remove("remove-rotate"))}},{key:"render",value:function(){var e=this,t=r.a.createElement(J,{username:this.state.data.username,content:this.state.data.description,backgroundColor:this.getCommentColor(this.state.data),floatRight:this.commentIsFloatRight(this.state.data)}),a=this.state.data.comments.map((function(t){return r.a.createElement(J,{username:t.username,content:t.content,backgroundColor:e.getCommentColor(t),floatRight:e.commentIsFloatRight(t)})}));return r.a.createElement(M.a,{id:this.state.data.id},r.a.createElement(M.a.Img,{src:ie.cloudfront.invokeUrl+this.state.data.photoID}),r.a.createElement(U.a,{defaultActiveKey:"0"},r.a.createElement(M.a.Body,null,t,r.a.createElement(U.a.Collapse,{eventKey:"1"},r.a.createElement("div",null,a,this.state.newComments.map((function(e){return e})),r.a.createElement(le,{username:this.state.loggedInUser,postID:this.state.data.id,addNewComment:this.addNewComment})))),r.a.createElement(U.a.Toggle,{className:"comment-collapse 180",as:z.a,eventKey:"1",onClick:this.collapseButtonClick},r.a.createElement("div",null,r.a.createElement("div",{className:"collapse-text"},"Show Comments",r.a.createElement("br",null)),r.a.createElement(ce.a,{className:"arrow-icon",strokeWidth:1}))),this.state.data.username==this.state.loggedInUser?r.a.createElement("div",null,r.a.createElement(z.a,{className:"btn btn-danger delete-btn",onClick:function(){return e.deletePost()}},"Delete Post")):r.a.createElement(r.a.Fragment,null)),r.a.createElement(M.a.Footer,null,r.a.createElement("small",{className:"text-muted"},this.state.data.createdAt)))}}]),a}(n.Component),de=a(108),ue=a(298),pe=a(144),ge=a.n(pe);function he(){var e=Object(R.a)(["\n    background-color: #2c2a2a !important;\n"]);return he=function(){return e},e}function fe(){var e=Object(R.a)(["\n    color: white;\n    background-color: #2c2a2a !important;\n"]);return fe=function(){return e},e}var ve=Object(D.a)(ue.a.Body)(fe()),be=Object(D.a)(ue.a.Footer)(he()),we=a(45);var Ee=function(e){var t=Object(n.useState)(!1),a=Object(de.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)([]),c=Object(de.a)(l,2),i=c[0],m=c[1],d=function(){return s(!1)},u=function(){var t=Object(y.a)(E.a.mark((function t(){var a,n,r,o,s,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=i.length){t.next=4;break}alert("You must upload a photo for a post."),t.next=22;break;case 4:return console.log(i),a=(new Date).toLocaleString("en-US"),n="PD-"+oe(a+e.loggedInUser),r=document.getElementById("new-post-description").value,o=oe(a+i[0].name)+"."+i[0].name.split(".")[1],s=i[1].split(",")[1],l={id:n,username:e.loggedInUser,description:r,createdAt:a,fileName:o,fileDataUrl:s},t.prev=11,d(),e.showLoader(),t.next=16,P.a.post("".concat(we.api.invokeUrl,"/posts/new"),l);case 16:window.location.reload(),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(11),console.log("An error has occurred: ".concat(t.t0));case 22:case"end":return t.stop()}}),t,null,[[11,19]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{id:"new-post-button",onClick:function(){return s(!0)}},"Write Your Post..."),r.a.createElement(ue.a,{show:o,onHide:d},r.a.createElement(ve,null,r.a.createElement(ne,{id:"new-post-description",placeholder:"Description (max. 100 words)",maxLength:"100"}),r.a.createElement(ge.a,{withIcon:!0,withPreview:!0,buttonText:"Choose images",onChange:function(e,t){m([e[0],t[0]])},singleImage:!0,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})),r.a.createElement(be,null,r.a.createElement(z.a,{variant:"secondary",onClick:d},"Close"),r.a.createElement(z.a,{variant:"primary",onClick:u},"Post"))))},Ce=a(45),ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",data:[],loading:!0},n.showLoader=function(){n.setState({loading:!0})},n.fetchPosts=Object(y.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("".concat(Ce.api.invokeUrl,"/posts"));case 3:t=e.sent,console.log(t.data.Items),console.log(Ce),n.setState({data:t.data.Items}),n.setState({loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),void 0==n.props.location.state?(alert("Invalid attempt. Login is required to view the request content."),n.props.history.push("/login")):(n.setState({username:n.props.location.state.username}),n.fetchPosts()),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){void 0==this.props.location.state?(alert("Invalid attempt. Login is required to view the request content."),this.props.history.push("/login")):this.setState({username:this.props.location.state.username})}},{key:"render",value:function(){var e=this,t=this.state.data.map((function(t){return r.a.createElement(me,{loggedInUser:e.state.username,data:t,showLoader:e.showLoader})}));return r.a.createElement("div",{id:"posts",className:"container-fluid"},r.a.createElement("div",{className:"row element"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(Ee,{loggedInUser:this.state.username,showLoader:this.showLoader})),r.a.createElement("div",{className:"col-md-2"})),r.a.createElement("div",{className:"row element"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-8"},this.state.loading?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(A.ClipLoader,{color:"#007bff",loading:!0,size:200})):0==t.length?r.a.createElement("p",{id:"no-post-text",className:"text-light"},"No posts were uploaded yet..."):r.a.createElement(L.a,{className:"text-center"},t)),r.a.createElement("div",{className:"col-md-2"})))}}]),a}(n.Component),xe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).login=function(e){n.setState({loggedInUser:e,isLoggedIn:!0})},n.state={loggedInUser:"",isLoggedIn:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.location.href.includes("/home")&&this.setState({isLoggedIn:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(v,{isLoggedIn:this.state.isLoggedIn}),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(I,Object.assign({},t,{login:e.login}))}}),r.a.createElement(u.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(I,Object.assign({},t,{login:e.login}))}}),r.a.createElement(u.a,{exact:!0,path:"/signup",component:O}),r.a.createElement(u.a,{exact:!0,path:"/welcome",component:j}),r.a.createElement(u.a,{exact:!0,path:"/home",component:ye})))))}}]),a}(n.Component),Ne=a(76),ke=a(45);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Ne.default.configure({Auth:{mandatorySignId:!0,region:ke.cognito.REGION,userPoolId:ke.cognito.USER_POOL_ID,userPoolWebClientId:ke.cognito.APP_CLIENT_ID}}),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e){e.exports=JSON.parse('{"cognito":{"REGION":"ap-southeast-2","USER_POOL_ID":"ap-southeast-2_KeBoViRDy","APP_CLIENT_ID":"3bgm9kjsrak4luhhv4p04e02pj"},"cloudfront":{"invokeUrl":"http://d12nxej3n1xwb5.cloudfront.net/photos/"},"api":{"invokeUrl":"https://gxx76cgha4.execute-api.ap-southeast-2.amazonaws.com/prod-2"}}')}},[[160,1,2]]]);
//# sourceMappingURL=main.219562b0.chunk.js.map